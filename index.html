<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Evenz seatingchart</title>

    <link rel="stylesheet" href="https://dynamicvenuemaps.com/maps/css/style_maps.css" />
    <script src="https://dynamicvenuemaps.com/maps/js/jquery.min.js?v=1.9.1"></script>

    <script src="js/socket.io.js"></script>
    <script src="js/socket_seatmap_client.js"></script>

</head>

    <body>
        <h1>*** ****</h1>
        <div id="seatmap-container"></div>
        <div id="seatmap-container-key"></div>
        <div id="tickets-container"></div>

        <script>
            var DATA_TICKTES = {
                "list": []
            };

            var DVM_map_params = {
                'client_id'             : '158',
                'map_name'              : 'seatmap-container',
                'key_map_name'          : 'seatmap-container-key',
                'tickets_container'     : 'tickets-container',
                'map_width'             : 777,
                'map_height'            : 637,
                'feed_type'             : 'te',
                'map_type'              : 'price',
                'event_id'              : '1413508',
                'headliner_id'          : '30584',
                'venue_id'              : '1480',
                'venue_conf'            : '20651',
                'tickets_data_object'   : DATA_TICKTES,
                'tickets_type'          : 'json',
                'static_map'            : ''
            };
        </script>

        <script src="https://dynamicvenuemaps.com/maps/dvm.js?v=1.0"></script>

        <script>

            class Seatmap {

                static setSeatmap(ticketList) {
                    DATA_TICKTES.list = ticketList;
                }

                static updateSeatmap() {
                    // How to start updating the map with a new list of tickets?
                    // As I understand it is required to call a function from a file
                    // https://dynamicvenuemaps.com/maps/dvm.js?v=1.0
                }

            }



            // Test

            let ticketList1 = [
                { "id": "1858306", "price": "72.0", "section": "PR15", "row": "4", "avail": "2", "qty": "2", "notes": "rien" },
                { "id": "1858302", "price": "76.0", "section": "PR15", "row": "3", "avail": "2", "qty": "2", "notes": "rien" }, 
                { "id": "1858298", "price": "113.0", "section": "PR15", "row": "1", "avail": "2", "qty": "2", "notes": "rien" }, 
                { "id": "1858295", "price": "87.0", "section": "PR15", "row": "3", "avail": "2,4", "qty": "4", "notes": "rien" }, 
                { "id": "1858293", "price": "87.0", "section": "PR15", "row": "2", "avail": "2", "qty": "2", "notes": "rien" }, 
                { "id": "1858215", "price": "83.0", "section": "PR14", "row": "4", "avail": "2", "qty": "2", "notes": "rien" }, 
                { "id": "1845517", "price": "117.0", "section": "PR13", "row": "1", "avail": "2,4", "qty": "4", "notes": "rien" }
            ];

            let ticketList2 = [
                { "id": "1821352", "price": "108.0", "section": "PR6", "row": "1", "avail": "2", "qty": "2", "notes": "rien" }, 
                { "id": "1821350", "price": "1080.0", "section": "SUITE B 23", "row": "12 PERSON", "avail": "1", "qty": "1", "notes": "rien" }, 
                { "id": "1821349", "price": "1260.0", "section": "SUITE B 20", "row": "12 PERSON", "avail": "1", "qty": "1", "notes": "rien" }, 
                { "id": "1820571", "price": "1620.0", "section": "SUITE B 23", "row": "18 PERSON", "avail": "1", "qty": "1", "notes": "rien" }, 
                { "id": "1820568", "price": "1890.0", "section": "SUITE B 20", "row": "18 PERSON", "avail": "1", "qty": "1", "notes": "rien" }, 
                { "id": "483437683", "price": "2212.0", "section": "Suite C 30", "row": "ALL18TIX", "avail": "1", "qty": "1", "notes": "rien" }, 
                { "id": "447675932", "price": "1250.0", "section": "Suite C 23", "row": "18 Person", "avail": "1", "qty": "1", "notes": "rien" }, 
            ];

            let ticketList3 = [
                { "id": "461340353", "price": "255.0", "section": "FLOOR 2", "row": "8", "avail": "2,4", "qty": "4", "notes": "rien" }, 
                { "id": "447979556", "price": "242.0", "section": "102", "row": "8", "avail": "1,2,3,4,5,6,8", "qty": "8", "notes": "rien" }, 
                { "id": "447979561", "price": "204.0", "section": "301", "row": "3", "avail": "1,2,3,4,5,6,7,8,9,10,11,12,13,14,16", "qty": "16", "notes": "rien" }, 
                { "id": "455663500", "price": "203.0", "section": "102", "row": "1", "avail": "1,2,3,5", "qty": "5", "notes": "rien" }, 
                { "id": "488310113", "price": "185.0", "section": "4 PREMIER", "row": "1", "avail": "2,4", "qty": "4", "notes": "rien" }, 
                { "id": "487891614", "price": "180.0", "section": "101", "row": "1", "avail": "2", "qty": "2", "notes": "rien" }, 
                { "id": "455663499", "price": "179.0", "section": "119", "row": "1", "avail": "2", "qty": "2", "notes": "rien" }, 
            ];
            
            setTimeout(function() { console.log('Привет1') }, 3000);
            setTimeout(function() { console.log('Привет2') }, 3000);
            setTimeout(function() {console.log('Привет3') }, 3000);

            Seatmap.setDataTickets(dataTickets1);
            Seatmap.setDataTickets(dataTickets2);
            Seatmap.setDataTickets(dataTickets3);

        </script>
    </body>

</html>